# Cron ingest worker â€” companion to the SvelteKit Pages app
name = "swft-cron-ingest"
main = "src/index.ts"
compatibility_date = "2025-01-01"

# Cron schedules: Kp+solar every 3min, alerts every 5min, summaries every 15min, links weekly
[triggers]
crons = ["*/3 * * * *", "*/5 * * * *", "*/15 * * * *", "0 12 * * 1"]

# Plain-text vars (secrets go via `wrangler secret put`)
[vars]
SITE_URL = "https://swft.skypixels.org"

# Shared D1 database with the Pages app
[[d1_databases]]
binding = "DB"
database_name = "swpc-web-db"
database_id = "4756af4f-cd26-4394-a65f-f35899aa11d8"
